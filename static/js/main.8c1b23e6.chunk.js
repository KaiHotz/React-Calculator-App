(this["webpackJsonpreact-calculator-app"]=this["webpackJsonpreact-calculator-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n,c=t(2),r=t(5),i=t.n(r),o=t(6),l=t.n(o),s=t(3),u=["7","8","9","4","5","6","1","2","3","0"],p={"/":{name:"divide",symbol:"\xf7",show:!0,func:function(e,a){return e/a}},"*":{name:"multiply",symbol:"\xd7",show:!0,func:function(e,a){return e*a}},"-":{name:"subtract",symbol:"\u2212",show:!0,func:function(e,a){return e-a}},"+":{name:"add",symbol:"+",show:!0,func:function(e,a){return e+a}},"=":{name:"equals",symbol:"=",show:!0,func:function(e,a){return a}},Enter:{name:"enter",symbol:"=",show:!1,func:function(e,a){return a}}},d=function(e){var a=navigator.language||"en-US",t=parseFloat(e).toLocaleString(a,{useGrouping:!0,maximumFractionDigits:6}),n=/\.\d*?(0*)$/.exec(e);return n&&(t+=/[1-9]/.test(n[0])?n[1]:n[0]),t.length>=14?parseFloat(e).toExponential().toString():t},f=(t(13),t(0)),y=function(e){var a=e.value,t=void 0===a?"0":a,n=Object(c.useState)(1),r=Object(s.a)(n,2),i=r[0],o=r[1],l=Object(c.useRef)(null),u=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e,a,t=null===l||void 0===l||null===(e=l.current)||void 0===e?void 0:e.offsetWidth,n=null===u||void 0===u||null===(a=u.current)||void 0===a?void 0:a.offsetWidth,c=t&&n?t/n:1;c<1?o(c):i<1&&o(1)})),Object(f.jsx)("div",{className:"calculator-display",ref:l,children:Object(f.jsx)("div",{className:"calculator-display__auto-scaling",style:{transform:"scale(".concat(i,",").concat(i,")")},ref:u,children:d(t)})})},b=(t(15),function(e){var a=e.onClick,t=e.className,n=e.keyValue,c=e.disabled;return Object(f.jsx)("button",{className:"calculator-key ".concat(t),type:"button",onClick:a,disabled:c,children:n})}),v=t(1);!function(e){e.inputDigit="inputDigit",e.inputDot="inputDot",e.inputPercent="inputPercent",e.toggleSign="toggleSign",e.clearLastChar="clearLastChar",e.clearDisplay="clearDisplay",e.performOperation="performOperation",e.clearAll="clearAll"}(n||(n={}));var j={value:null,displayValue:"0",operator:null,waitingForOperand:!1},g=function(e,a){switch(a.type){case n.inputDigit:return e.waitingForOperand?Object(v.a)(Object(v.a)({},e),{},{displayValue:"".concat(a.payload),waitingForOperand:!1}):Object(v.a)(Object(v.a)({},e),{},{displayValue:"0"===e.displayValue?"".concat(a.payload):"".concat(e.displayValue).concat(a.payload)});case n.inputDot:return e.waitingForOperand?Object(v.a)(Object(v.a)({},e),{},{displayValue:"0.",waitingForOperand:!1}):Object(v.a)(Object(v.a)({},e),{},{displayValue:"".concat(e.displayValue,"."),waitingForOperand:!1});case n.inputPercent:if("0"!==e.displayValue){var t=e.displayValue.replace(/^-?\d*\.?/,""),c=parseFloat(e.displayValue)/100;return Object(v.a)(Object(v.a)({},e),{},{displayValue:"".concat(c.toFixed(t.length+2))})}return e;case n.toggleSign:var r=-1*parseFloat(e.displayValue);return Object(v.a)(Object(v.a)({},e),{},{displayValue:"".concat(r)});case n.clearLastChar:return Object(v.a)(Object(v.a)({},e),{},{displayValue:e.displayValue.substring(0,e.displayValue.length-1)||"0"});case n.clearDisplay:return Object(v.a)(Object(v.a)({},e),{},{displayValue:"0"});case n.performOperation:var i=parseFloat(e.displayValue);if(null===e.value)return Object(v.a)(Object(v.a)({},e),{},{value:i,operator:a.payload,waitingForOperand:!0});if(e.operator){var o=e.value||0,l=p[e.operator].func(o,i);return{value:l,displayValue:"".concat(l),operator:a.payload,waitingForOperand:!0}}return Object(v.a)(Object(v.a)({},e),{},{operator:a.payload,waitingForOperand:!1});case n.clearAll:default:return j}},O=(t(16),function(){var e=function(){var e=Object(c.useReducer)(g,j),a=Object(s.a)(e,2),t=a[0],r=a[1],i=function(e){/\d/.test(e.key)?(e.preventDefault(),r({type:n.inputDigit,payload:e.key})):e.key in p?(e.preventDefault(),r({type:n.performOperation,payload:e.key})):","===e.key||"."===e.key?(e.preventDefault(),r({type:n.inputDot})):"%"===e.key?(e.preventDefault(),r({type:n.inputPercent})):"Backspace"===e.key?(e.preventDefault(),r({type:n.clearLastChar})):"Clear"===e.key&&(e.preventDefault(),"0"!==t.displayValue?r({type:n.clearDisplay}):r({type:n.clearAll}))};return Object(c.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}})),{state:t,handleClick:function(e,a){r(a?{type:e,payload:a}:{type:e,payload:null})}}}(),a=e.state,t=e.handleClick;return Object(f.jsxs)("div",{className:"calculator",children:[Object(f.jsx)(y,{value:a.displayValue}),Object(f.jsxs)("div",{className:"calculator-keypad",children:[Object(f.jsxs)("div",{className:"input-keys",children:[Object(f.jsxs)("div",{className:"function-keys",children:[Object(f.jsx)(b,{className:"key-clear",onClick:function(){return t("0"!==a.displayValue?n.clearDisplay:n.clearAll)},keyValue:"0"!==a.displayValue?"C":"AC"}),Object(f.jsx)(b,{className:"key-sign",onClick:function(){return t(n.toggleSign)},keyValue:"\xb1"}),Object(f.jsx)(b,{className:"key-percent",onClick:function(){return t(n.inputPercent)},keyValue:"%"})]}),Object(f.jsxs)("div",{className:"digit-keys",children:[u.map((function(e){return Object(f.jsx)(b,{className:"key-".concat(e),onClick:function(){return t(n.inputDigit,e)},keyValue:e},"key-".concat(e))})),Object(f.jsx)(b,{className:"key-dot",onClick:function(){return t(n.inputDot)},keyValue:"\u25cf",disabled:a.displayValue.includes(".")})]})]}),Object(f.jsx)("div",{className:"operator-keys",children:l()(p,(function(e,a){return e.show?Object(f.jsx)(b,{className:"key-".concat(e.name),onClick:function(){return t(n.performOperation,a)},keyValue:e.symbol},"key-".concat(e.name)):null}))})]})]})}),h=(t(17),function(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)(O,{})})}),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/.exec(window.location.hostname));function m(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!==t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,20)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,i=a.getTTFB;t(e),n(e),c(e),r(e),i(e)}))};t(18);i.a.render(Object(f.jsx)(h,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/React-Calculator-App",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/React-Calculator-App","/service-worker.js");k?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!==n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):m(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):m(a,e)}))}}(),w()}],[[19,1,2]]]);
//# sourceMappingURL=main.8c1b23e6.chunk.js.map